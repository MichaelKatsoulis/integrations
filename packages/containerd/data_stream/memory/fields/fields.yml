- name: containerd.memory
  type: group
  release: beta
  description: >
    Containerd Runtime memory metrics.

  fields:
    - name: workingset.pct
      type: scaled_float
      format: percent
      unit: percent
      metric_type: gauge
      description: >
        Memory working set percentage.

    - name: rss
      type: long
      format: bytes
      unit: byte
      metric_type: gauge
      description: >
        Total memory resident set size.

    - name: activeFiles
      type: long
      format: bytes
      unit: byte
      metric_type: gauge
      description: >
        Total active file bytes.

    - name: cache
      type: long
      format: bytes
      unit: byte
      metric_type: gauge
      description: >
        Total cache bytes.

    - name: inactiveFiles
      type: long
      format: bytes
      unit: byte
      metric_type: gauge
      description: >
        Total inactive file bytes.

    - name: usage
      type: group
      description: >
        Usage memory stats.

      fields:
        - name: max
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Max memory usage.

        - name: pct
          type: scaled_float
          format: percent
          unit: percent
          metric_type: gauge
          description: >
            Total allocated memory percentage.

        - name: total
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Total memory usage.

        - name: fail.count
          type: scaled_float
          metric_type: counter
          description: >
            Fail counter.

        - name: limit
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Memory usage limit.

    - name: kernel
      type: group
      description: >
        Kernel memory stats.

      fields:
        - name: max
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Kernel max memory usage.

        - name: total
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Kernel total memory usage.

        - name: fail.count
          type: scaled_float
          metric_type: counter
          description: >
            Kernel fail counter.

        - name: limit
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Kernel memory limit.

    - name: swap
      type: group
      description: >
        Swap memory stats.

      fields:
        - name: max
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Swap max memory usage.

        - name: total
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Swap total memory usage.

        - name: fail.count
          type: scaled_float
          metric_type: counter
          description: >
            Swap fail counter.

        - name: limit
          type: long
          format: bytes
          unit: byte
          metric_type: gauge
          description: >
            Swap memory limit.

